# 500 é”™è¯¯å¿«é€Ÿä¿®å¤æŒ‡å—

## âœ… æµ‹è¯•ç»“æœ

è¿è¡Œ `bash test_connectivity.sh` åï¼Œæ‰€æœ‰è¿æ¥æµ‹è¯•é€šè¿‡ï¼š
- âœ… åç«¯è¿è¡Œæ­£å¸¸ (Port 8002)
- âœ… å‰ç«¯è¿è¡Œæ­£å¸¸ (Port 3000)
- âœ… API è·¯ç”±æ­£å¸¸ (Status 200)
- âœ… ç¯å¢ƒå˜é‡é…ç½®æ­£ç¡®

## ğŸ”§ è§£å†³ 500 é”™è¯¯çš„æ­¥éª¤

### 1. æ¸…é™¤æµè§ˆå™¨ç¼“å­˜

**Chrome/Edge**:
```
1. æ‰“å¼€å¼€å‘è€…å·¥å…· (F12)
2. å³é”®ç‚¹å‡»åˆ·æ–°æŒ‰é’®
3. é€‰æ‹© "æ¸…ç©ºç¼“å­˜å¹¶ç¡¬æ€§é‡æ–°åŠ è½½"
```

**æˆ–è€…ä½¿ç”¨æ— ç—•æ¨¡å¼**:
```
Ctrl + Shift + N (Chrome)
Ctrl + Shift + P (Edge)
```

### 2. é‡å¯å‰ç«¯å¼€å‘æœåŠ¡å™¨

```bash
# åœæ­¢å‰ç«¯ (Ctrl+C)
cd frontend
npm run dev
```

### 3. é‡å¯åç«¯æœåŠ¡å™¨

```bash
# åœæ­¢åç«¯ (Ctrl+C)
python -m src.server
```

### 4. å®Œå…¨é‡å¯ï¼ˆæœ€å½»åº•ï¼‰

```bash
# Terminal 1: Backend
python -m src.server

# Terminal 2: Frontend
cd frontend
npm run dev

# æµè§ˆå™¨: æ¸…é™¤ç¼“å­˜åè®¿é—® http://localhost:3000
```

## ğŸ” æ£€æŸ¥æ¸…å•

å¦‚æœé—®é¢˜ä»ç„¶å­˜åœ¨ï¼Œä¾æ¬¡æ£€æŸ¥ï¼š

- [ ] åç«¯æ˜¯å¦è¿è¡Œ: `curl http://localhost:8002/threads`
- [ ] å‰ç«¯æ˜¯å¦è¿è¡Œ: `curl http://localhost:3000`
- [ ] API è·¯ç”±æ˜¯å¦å·¥ä½œ: `curl http://localhost:3000/api/agent/threads`
- [ ] ç¯å¢ƒå˜é‡æ˜¯å¦æ­£ç¡®: `cat frontend/.env.local`
- [ ] æµè§ˆå™¨ç¼“å­˜æ˜¯å¦æ¸…é™¤
- [ ] æ˜¯å¦æœ‰é˜²ç«å¢™/ä»£ç†é˜»æ­¢è¿æ¥

## ğŸ“Š æµ‹è¯•å‘½ä»¤

```bash
# ä¸€é”®æµ‹è¯•æ‰€æœ‰è¿æ¥
bash test_connectivity.sh

# æ‰‹åŠ¨æµ‹è¯•åç«¯
curl http://localhost:8002/threads

# æ‰‹åŠ¨æµ‹è¯•å‰ç«¯ API
curl http://localhost:3000/api/agent/threads

# æ‰‹åŠ¨æµ‹è¯•å†å²è®°å½•
curl "http://localhost:8002/history/<thread_id>"
```

## ğŸ› å¸¸è§é—®é¢˜

### Q: API è¿”å› "fetch failed"
**A**:
1. æ£€æŸ¥ `frontend/.env.local` ä¸­çš„ `BACKEND_URL`
2. ç¡®ä¿åç«¯åœ¨è¿è¡Œ
3. é‡å¯å‰ç«¯æœåŠ¡å™¨

### Q: å†å²è®°å½•æ˜¾ç¤º "fetch failed"
**A**:
1. æ¸…é™¤æµè§ˆå™¨ç¼“å­˜
2. åˆ é™¤æ—§æ•°æ®: `rm checkpoints.sqlite threads.db`
3. é‡å¯åç«¯å’Œå‰ç«¯
4. åˆ›å»ºæ–°å¯¹è¯æµ‹è¯•

### Q: å‰ç«¯æŒç»­æŠ¥ 500 é”™è¯¯
**A**:
1. æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…·æŸ¥çœ‹å…·ä½“é”™è¯¯
2. æ£€æŸ¥åç«¯æ—¥å¿—
3. è¿è¡Œ `test_connectivity.sh` è¯Šæ–­

## ğŸ“ è°ƒè¯•æ—¥å¿—ä½ç½®

- **å‰ç«¯æ—¥å¿—**: æµè§ˆå™¨å¼€å‘è€…å·¥å…· Console
- **åç«¯æ—¥å¿—**: è¿è¡Œ `python -m src.server` çš„ç»ˆç«¯
- **Next.js æ—¥å¿—**: è¿è¡Œ `npm run dev` çš„ç»ˆç«¯

## âœ… æˆåŠŸæ ‡å¿—

ä¿®å¤æˆåŠŸåï¼Œæ‚¨åº”è¯¥çœ‹åˆ°ï¼š
- âœ… ä¾§è¾¹æ æ˜¾ç¤ºä¼šè¯åˆ—è¡¨
- âœ… åˆ‡æ¢ä¼šè¯åèƒ½çœ‹åˆ°å†å²æ¶ˆæ¯
- âœ… æµè§ˆå™¨æ§åˆ¶å°æ—  500 é”™è¯¯
- âœ… ç½‘ç»œè¯·æ±‚å…¨éƒ¨è¿”å› 200

---

**æ›´æ–°æ—¶é—´**: 2025-12-30
**ç›¸å…³æ–‡ä»¶**:
- [test_connectivity.sh](test_connectivity.sh)
- [frontend/.env.local](frontend/.env.local)
- [src/server.py](src/server.py)